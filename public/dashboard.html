<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoBoard</title>
    <link rel="stylesheet" href="./css/dashboard.css">
    <link rel="shortcut icon" href="../src/assets/1.ico" type="image/png">
</head>
<body>
    <nav class="navbar">
        <div class="logo">
            <img src="./1.svg">
            <h1>EcoCredit</h1>
        </div>
        <div class="dashboard-left">
            <img src="./6.svg" alt="">
        </div>
    </nav>

    <hr>

    <div class="main">
        <h1>Sustainability Tracker</h1>
        <div class="row1">
            <div class="progress-card">
                <h4>Progress Bar</h4>
            </div>
            <div class="eco-points">
                <h4>Your EcoPoints:</h4>
                <p>1008</p>
            </div>
        </div>
        <div class="row2">
            <div class="pie-chart">
                <h4>Total Money Spent:</h4>
                <div class="chart-border">
                    <canvas id="pie-chart"></canvas>
                </div>
            </div>
            <div class="bar-graph">
                <h4>Points (per month)</h4>
                <div class="chart-border">
                    <canvas id="bar-chart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <script>
        let pie_chart_labels = ["Sustainable Products", "Non-sustainable Products"];
        let bar_chart_labels = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]

        Papa.parse('../data/sample-spending.csv', {
            header: true,
            complete: function (result) {
                let rows = result.data;
                console.log(rows);
            }
        })
        
        new Chart(document.getElementById('pie-chart'), {
            type: 'pie',
            data: {
                labels: pie_chart_labels,
                datasets: [{
                    backgroundColor: ["#e66346", "#254BD0", "#ffbe0b"],
                    data: [418, 263]
                }]
            }
        })

        new Chart(document.getElementById('bar-chart'), {
            type: 'bar',
            data: {
                labels: bar_chart_labels,
                datasets: [{
                    backgroundColor: ["#e66346", "#254BD0", "#ffbe0b"],
                    data: [343, 434, 123, 436, 564, 745, 454, 676, 234, 324, 565, 0]
                }]
            }
        })
    </script>
</body>
</html>